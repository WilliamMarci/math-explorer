# MathMap - å¯è§†åŒ–æ•°å­¦æŽ¨å¯¼ç¼–è¾‘å™¨

MathMap æ˜¯ä¸€ä¸ªåŸºäºŽèŠ‚ç‚¹çš„éžçº¿æ€§æ€ç»´å¯¼å›¾å·¥å…·ï¼Œä¸“ä¸ºæ•°å­¦æŽ¨å¯¼ã€ç‰©ç†å…¬å¼è§£æžå’ŒçŸ¥è¯†å›¾è°±æž„å»ºè€Œè®¾è®¡ã€‚å®ƒå…è®¸ä½ é€šè¿‡ LaTeX ç¼–å†™åŠ¨æ€å…¬å¼ï¼Œå¹¶é€šè¿‡å¯è§†åŒ–è¿žçº¿å°†æ¦‚å¿µã€å…¬ç†å’ŒæŽ¨å¯¼æ­¥éª¤æœ‰æœºåœ°è¿žæŽ¥èµ·æ¥ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

*   **LaTeX æ¨¡æ¿å¼•æ“Ž**ï¼šæ”¯æŒåœ¨ LaTeX å…¬å¼ä¸­æ’å…¥åŠ¨æ€â€œæ’æ§½â€ (`{{key}}`)ï¼Œæ’æ§½å¯ä»¥æ˜¯æ–‡æœ¬ã€å…¶ä»–èŠ‚ç‚¹çš„é“¾æŽ¥æˆ–äº¤äº’å¼å˜é‡ã€‚
*   **å®žæ—¶æ¸²æŸ“**ï¼šæ‰€è§å³æ‰€å¾—çš„æ•°å­¦å…¬å¼ç¼–è¾‘ï¼Œæ”¯æŒå¤æ‚çš„æ•°å­¦ç¬¦å·ã€‚
*   **å¯Œæ–‡æœ¬æç¤ºæ¡† (Tooltips)**ï¼šé¼ æ ‡æ‚¬åœåœ¨å…¬å¼å˜é‡ä¸Šæ—¶ï¼Œå¯æ˜¾ç¤º Markdown æ–‡æœ¬ã€LaTeX å…¬å¼ç”šè‡³ **SVG çŸ¢é‡å›¾**ï¼ˆéžå¸¸é€‚åˆå±•ç¤ºå‡½æ•°å›¾åƒï¼‰ã€‚
*   **åœºæ™¯ä¸Žå†…å®¹åˆ†ç¦»**ï¼šä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼ˆContentï¼‰å¯ä»¥åœ¨ç”»å¸ƒï¼ˆSceneï¼‰ä¸­è¢«å¤šæ¬¡å¼•ç”¨ï¼Œæ–¹ä¾¿æž„å»ºå¤æ‚çš„äº¤å‰å¼•ç”¨å›¾è°±ã€‚
*   **åŠ›å¯¼å‘å¸ƒå±€**ï¼šåŸºäºŽç‰©ç†å¼•æ“Žçš„è‡ªåŠ¨å¸ƒå±€ï¼Œæ”¯æŒæ‹–æ‹½ã€ç¼©æ”¾å’ŒèŠ‚ç‚¹é”å®šã€‚
*   **Git é£Žæ ¼å¤§çº²**ï¼šå·¦ä¾§ä¾§è¾¹æ æä¾›ç±»ä¼¼ Git Graph çš„çº¿æ€§å¤§çº²è§†å›¾ï¼Œæ–¹ä¾¿å¿«é€Ÿå¯¼èˆªã€‚

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

1.  **å¯¼å…¥ç¤ºä¾‹**ï¼šç‚¹å‡»å³ä¸‹è§’çš„ **Import** æŒ‰é’®ï¼Œé€‰æ‹© `example.mathmap` æ–‡ä»¶ã€‚
2.  **æ–°å»ºèŠ‚ç‚¹**ï¼šç‚¹å‡»å·¦ä¸Šè§’çš„ **+** æŒ‰é’®æˆ–ä½¿ç”¨å¿«æ·é”®ï¼Œé€‰æ‹©èŠ‚ç‚¹ç±»åž‹ã€‚
3.  **ç¼–è¾‘å†…å®¹**ï¼šåŒå‡»èŠ‚ç‚¹æˆ–å³é”®é€‰æ‹© "Edit" è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚
4.  **è¿žæŽ¥èŠ‚ç‚¹**ï¼šåœ¨ç¼–è¾‘å™¨çš„ "Segments" ä¸­å°†ç±»åž‹è®¾ç½®ä¸º "Link"ï¼Œå¹¶è¾“å…¥ç›®æ ‡èŠ‚ç‚¹çš„ IDã€‚

---

## ðŸŽ“ æ•™ç¨‹ï¼šå¦‚ä½•åˆ›å»ºä¸€ä¸ªäº¤äº’å¼èŠ‚ç‚¹

ä»¥åˆ›å»ºä¸€ä¸ª **â€œé€Ÿåº¦å®šä¹‰â€** èŠ‚ç‚¹ä¸ºä¾‹ï¼š

### ç¬¬ä¸€æ­¥ï¼šå®šä¹‰æ¨¡æ¿
åœ¨ç¼–è¾‘å™¨çš„ **LaTeX Template** åŒºåŸŸè¾“å…¥ï¼š
```latex
v = \frac{d {{pos}} }{d {{time}} }
```
æ³¨æ„ `{{pos}}` å’Œ `{{time}}` æ˜¯æˆ‘ä»¬é¢„ç•™çš„æ’æ§½ã€‚

### ç¬¬äºŒæ­¥ï¼šé…ç½®äº¤äº’ç‰‡æ®µ (Segments)
åœ¨å³ä¾§çš„ **Interactive Segments** é¢æ¿ä¸­ï¼Œä½ ä¼šçœ‹åˆ°ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å‡ºäº† `pos` å’Œ `time`ã€‚

1.  **é…ç½® `pos` (ä½ç§»)**:
    *   **Text**: è¾“å…¥ `x`
    *   **Type**: é€‰æ‹© `Link` (é“¾æŽ¥)
    *   **Target ID**: è¾“å…¥å¦ä¸€ä¸ªèŠ‚ç‚¹çš„ ID (ä¾‹å¦‚ `node_position`)
    *   **Color**: é€‰æ‹©ä¸€ä¸ªé†’ç›®çš„é¢œè‰² (å¦‚è“è‰²)

2.  **é…ç½® `time` (æ—¶é—´)**:
    *   **Text**: è¾“å…¥ `t`
    *   **Type**: é€‰æ‹© `Text` (çº¯æ–‡æœ¬)
    *   **Tooltip Settings**:
        *   å±•å¼€æŠ˜å é¢æ¿ã€‚
        *   **Content Type**: é€‰æ‹© `Markdown`ã€‚
        *   **Content**: è¾“å…¥ "æ—¶é—´æ˜¯ç‹¬ç«‹å˜é‡"ã€‚

### ç¬¬ä¸‰æ­¥ï¼šä¿å­˜
ç‚¹å‡»ä¿å­˜ï¼Œä½ çŽ°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªåŠ¨æ€çš„æ•°å­¦å…¬å¼èŠ‚ç‚¹ï¼ç‚¹å‡» $x$ ä¼šè·³è½¬ï¼Œæ‚¬åœ $t$ ä¼šæ˜¾ç¤ºè§£é‡Šã€‚

---

## ðŸ§© èŠ‚ç‚¹ç±»åž‹

| ç±»åž‹ | é¢œè‰²å»ºè®® | ç”¨é€” |
| :--- | :--- | :--- |
| **Axiom (å…¬ç†)** | ðŸ”´ Red | èµ·å§‹å‡è®¾ã€æ ¸å¿ƒå®šå¾‹ (å¦‚ F=ma)ã€‚ |
| **Default (é»˜è®¤)** | ðŸ”µ Blue | æŽ¨å¯¼æ­¥éª¤ã€ä¸­é—´è¿‡ç¨‹ã€‚ |
| **Constant (å¸¸æ•°)** | ðŸŸ¡ Amber | ç‰©ç†å¸¸æ•° (å¦‚ G, Ï€)ã€‚ |
| **Parameter (å‚æ•°)** | ðŸŸ¢ Green | å˜é‡ã€è¾“å…¥å‚æ•° (å¦‚ x, v)ã€‚ |
| **Note (ä¾¿ç­¾)** | âšª Gray | çº¯æ–‡æœ¬å¤‡æ³¨ï¼Œç”¨äºŽè§£é‡Šæ€è·¯ã€‚ |

---

## ðŸ“‚ æ–‡ä»¶ç»“æž„ (.mathmap)

`.mathmap` æ–‡ä»¶æ˜¯æ ‡å‡†çš„ JSON æ ¼å¼ï¼ŒåŒ…å«ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼š

1.  **`metadata`**: æ–‡ä»¶åã€æè¿°å’Œç”Ÿæˆæ—¶é—´ã€‚
2.  **`library`**: **å†…å®¹åº“**ã€‚å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„â€œçµé­‚â€ï¼ˆæ ‡é¢˜ã€LaTeX æ¨¡æ¿ã€äº¤äº’é€»è¾‘ï¼‰ã€‚Key æ˜¯å”¯ä¸€çš„ `contentId`ã€‚
3.  **`scene`**: **åœºæ™¯å¸ƒå±€**ã€‚å­˜å‚¨èŠ‚ç‚¹çš„â€œè‚‰ä½“â€ï¼ˆä½ç½®åæ ‡ `x, y`ã€é¢œè‰²ã€æ˜¯å¦å›ºå®š `fx, fy`ï¼‰ä»¥åŠèŠ‚ç‚¹ä¹‹é—´çš„è¿žçº¿ `links`ã€‚

è¿™ç§åˆ†ç¦»è®¾è®¡æ„å‘³ç€ä½ å¯ä»¥ä¿®æ”¹ä¸€ä¸ªå…¬ç†çš„å†…å®¹ï¼Œæ‰€æœ‰å¼•ç”¨è¯¥å…¬ç†çš„èŠ‚ç‚¹éƒ½ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

---
# for Developers

## features

### mathnode


## TODO

- [x] add pixel theme 
- [x] update "minimal" style, only show formula with a simple border, the title and note are hidden by default, only show when hover. we need the node line connect formular interactive math elements with same key and next node border with a solid line.
- [ ] add node libary management panel (at right side). for now, node can has new properties: tags (array of string). we can filter node in library panel by tags. and also we can create node folder in library panel to organize node better. node library can be search by title/content/tags. and also we can drag node from library panel to canvas to create new node, or drag node in libaray. this library can be load/save to a mathmap file, which metadata show that is a library file. and we can import/export library file to share node library with other user. all this need UI design. 
- [ ] muilt select nodes and drag to move, and give right click menu to align nodes (left, right, top, bottom, center), and also add muilt select options in the node panel (explorer, library)
- [ ] auto save and keep setting history
- [ ] add do/undo functionality
- [ ] add export to png/svg/pdf
- [ ] build as electron app

## FixMe

- [ ] when we open explorer - item - right click - show, it take a long time to response. find bug


> @[DIR] /home/amadeus/Public/FormularRender/newapp full understand project by reading src. right
    now we are do this step in readme todo:- [ ] update "minimal" mode, only show formula with a 
   simple border, the title and note are hidden by default, only show when hover. we need the node
    line connect formular interactive math elements with same key and next node border with a 
   solid line.// now, fix this: 1. minimal mode , the node distance should change we cursor not 
   above (hover), this time the node is smaller, so realtime calculate node physics. and soild 
   line link also need refresh when node expand/small  2. link to mathnode has no color, I want 
   minimal mode has this style: link line directly link to formular element corner (whcih cornor 
   need calculate), and a link color hover box on it (if this node link to a sub mathnode) so 
   while minimal mode, this link line should above node ( when cursor not above) 3. all this can 
   modify in setting panel


   -------
   name           | formular
   tags           | Formular (fade out()
   discription  (just show start, fade out)  | formular
   -----

